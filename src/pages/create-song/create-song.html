<ion-header>
	<ion-navbar>
		<ion-title>Nova música</ion-title>
	</ion-navbar>
</ion-header>

<ion-content padding>
	<ion-list>
		<ion-item>
			<ion-img width="180" height="180" src="{{songImg}}"></ion-img>
		</ion-item>
		<div *ngIf="available;">
			<audio controls><source src="{{songUrl}}" type="audio/mpeg"></audio>
		</div>
		<ion-item>
			<ion-input [(ngModel)]="songName" type="text" placeholder="Nome da música" required></ion-input>
		</ion-item>
		<ion-item>
			<button ion-button (click) = "searchDeezer()" >Buscar no Deezer</button>
			<br>
		</ion-item>

		<ion-item>
			<ion-input [(ngModel)]="songArtist" type="text" placeholder="Artista" required></ion-input>
		</ion-item>

		<ion-item>
			<ion-input [(ngModel)]="songTag" type="text" placeholder="TagList"></ion-input>
		</ion-item>

		<ion-item>
			<button ion-button (click) = "newTag()" >Nova tag</button>
			<br>
			<div *ngFor="let tag of createdTags" class="tag">
				<ion-badge>
					{{tag}}
					<ion-icon name="close" (click) = "removeTag(tag)"></ion-icon> 
				</ion-badge>
			</div>
		</ion-item>
		<ion-item>
			<h2>Habilidade:</h2>
			<rating [(ngModel)]="songRate" 
			readOnly="false"
			max="5"
			emptyStarIconName="star-outline"
			halfStarIconName="star-half"
			starIconName="star" 
			nullable="false">
		</rating>
	</ion-item>
	<ion-item>
		 <ion-label color="primary">Notas:</ion-label>
		<ion-textarea [(ngModel)]="songNotes" placeholder="Afinação, técnicas, trechos, ..."></ion-textarea>
	</ion-item>
</ion-list>
<button ion-button (click) = "newSong()">Criar</button>
</ion-content>